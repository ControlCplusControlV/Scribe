alpha = { 'a'..'z' | 'A'..'Z' }
digit = { '0'..'9' }
underscore = { "_" }
newline = _{ "\n" | "\r" }
WHITESPACE = _{ " " }

file = { SOI ~ intro? ~ statement* ~ outro? ~ EOI }
block = { "{" ~ statement* ~ "}" }
statement = { newline* ~ (variable_declaration | assignment | if_statement | block | function_definition | switch | for_loop | break_continue | leave | expr) ~ newline*  } 
expr = { literal | function_call | identifier }
for_loop = { "for" ~ block ~ expr ~ block ~ (newline*) ~ block}
break_continue = { "break" | "continue" }
identifier = @{ ASCII_ALPHANUMERIC+ }
identifier_list = { "(" ~ identifier ~ ("," ~ identifier)* ~ ")" }
type_name = { identifier } 
literal = { number_literal | string_literal | true_literal | false_literal | hex_number}
number_literal = @{ digit+ }
true_literal = { "true" }
false_literal = { "false" }
variable_declaration = { "let" ~ identifier ~ (":=" ~ expr)? }
assignment = { identifier ~ ":=" ~ expr }
function_call = { identifier ~ "(" ~ (expr ~ ( "," ~ expr)* )? ~ ")" }

function_definition = { "TODO" }
switch = { "TODO" }
leave = { "TODO" }
if_statement = { "if" ~ expr ~ block}
typed_identifier_list = { "TODO" }
string_literal = { "TODO" }
hex_number = { "TODO" }

intro = _{ newline* ~ "object" ~ "\"" ~ ASCII_ALPHANUMERIC* ~ "\"" ~ "{" ~ newline* ~ "code" ~ "{" }
outro = _{ newline* ~ "}" ~ newline* ~ "}" ~ newline* }

